(function(c){var b={};function a(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return c[d].call(e.exports,e,e.exports,a),e.l=!0,e.exports}return a.m=c,a.c=b,a.d=function(b,c,d){a.o(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:d})},a.r=function(a){typeof Symbol!='undefined'&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},a.t=function(b,d){var c,e;if(d&1&&(b=a(b)),d&8)return b;if(d&4&&typeof b=='object'&&b&&b.__esModule)return b;if(c=Object.create(null),a.r(c),Object.defineProperty(c,'default',{enumerable:!0,value:b}),d&2&&typeof b!='string')for(e in b)a.d(c,e,function(a){return b[a]}.bind(null,e));return c},a.n=function(b){var c=b&&b.__esModule?function(){return b.default}:function(){return b};return a.d(c,'a',c),c},a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},a.p="",a(a.s="./assets/js/head.js")})({"./assets/js/head.js":function(a,b){eval('function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Stream = /*#__PURE__*/function () {\n  function Stream() {\n    _classCallCheck(this, Stream);\n\n    this._topics = {};\n    this.subUid = -1;\n    this._activeUrlEvent = null;\n\n    this._updateActiveEvent(window.location.href);\n\n    window.onhashchange = function (_ref) {\n      var newURL = _ref.newURL;\n\n      this._publishHashChange(newURL);\n    };\n\n    this.subscribe = this.subscribe.bind(this);\n    this.publish = this.publish.bind(this);\n    this.unsubscribe = this.unsubscribe.bind(this);\n    this._publishHashChange = this._publishHashChange.bind(this);\n    this._translateUrlQuery = this._translateUrlQuery.bind(this);\n    this._updateActiveEvent = this._updateActiveEvent.bind(this);\n  }\n\n  _createClass(Stream, [{\n    key: "subscribe",\n    value: function subscribe(topic, func) {\n      if (!this._topics[topic]) {\n        this._topics[topic] = [];\n      }\n\n      var token = (++this.subUid).toString();\n\n      this._topics[topic].push({\n        token: token,\n        func: func\n      });\n\n      if (this._activeUrlEvent && this._activeUrlEvent.event === topic) {\n        func.call(null, this._activeUrlEvent.args);\n      }\n\n      return token;\n    }\n  }, {\n    key: "publish",\n    value: function publish(topic, argsText) {\n      var _this = this;\n\n      if (!this._topics[topic]) {\n        return false;\n      }\n\n      setTimeout(function () {\n        var subscribers = _this._topics[topic];\n        var args = _typeof(argsText) === \'object\' ? argsText : argsText.split(\',\').reduce(function (tmp, param) {\n          var _param$split = param.split(\':\'),\n              _param$split2 = _slicedToArray(_param$split, 2),\n              key = _param$split2[0],\n              value = _param$split2[1];\n\n          tmp[key] = value;\n          return tmp;\n        }, {});\n        var len = subscribers ? subscribers.length : 0;\n\n        while (len--) {\n          subscribers[len].func.call(null, args);\n        }\n      }, 0);\n      return true;\n    }\n  }, {\n    key: "unsubscribe",\n    value: function unsubscribe(token) {\n      for (var topic in this._topics) {\n        if (this._topics[topic]) {\n          for (var i = 0, j = this._topics[topic].length; i < j; i++) {\n            if (this._topics[topic][i].token === token) {\n              this._topics[topic].splice(i, 1);\n\n              return token;\n            }\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: "_publishHashChange",\n    value: function _publishHashChange(url) {\n      var _this$_updateActiveEv = this._updateActiveEvent(url),\n          event = _this$_updateActiveEv.event,\n          args = _this$_updateActiveEv.args;\n\n      if (!event) {\n        return false;\n      }\n\n      return this.publish(event, args);\n    }\n  }, {\n    key: "_updateActiveEvent",\n    value: function _updateActiveEvent(url) {\n      var params = this._translateUrlQuery(url);\n\n      var event = null;\n\n      if (!params.e && window.syna.enabledUnsafeEvents && params.event) {\n        event = params.event;\n      } else if (params.e) {\n        params = this._translateUrlQuery(atob(params.e));\n        event = params.event;\n      } else {\n        return {};\n      }\n\n      delete params.event;\n      this._activeUrlEvent = {\n        event: event,\n        args: params\n      };\n      return this._activeUrlEvent;\n    }\n  }, {\n    key: "_translateUrlQuery",\n    value: function _translateUrlQuery(url) {\n      var query = url.slice(url.indexOf(\'?\') + 1) || \'\';\n      return query.split(\'&\').reduce(function (tmp, pair) {\n        var _pair$split = pair.split(\'=\'),\n            _pair$split2 = _slicedToArray(_pair$split, 2),\n            key = _pair$split2[0],\n            value = _pair$split2[1];\n\n        tmp[decodeURIComponent(key)] = decodeURIComponent(value);\n        return tmp;\n      }, {});\n    }\n  }]);\n\n  return Stream;\n}();\n\nvar SynaAPI = /*#__PURE__*/function () {\n  function SynaAPI() {\n    _classCallCheck(this, SynaAPI);\n\n    this._registry = {};\n    this.register = this.register.bind(this);\n    this.update = this.update.bind(this);\n    this.get = this.get.bind(this);\n    this.getScope = this.getScope.bind(this);\n    this.toArray = this.toArray.bind(this);\n  }\n\n  _createClass(SynaAPI, [{\n    key: "register",\n    value: function register(scope, id, value) {\n      if (!this._registry[scope]) {\n        this._registry[scope] = {};\n      }\n\n      this._registry[scope][id] = value;\n    }\n  }, {\n    key: "update",\n    value: function update(scope, id, value) {\n      if (!this._registry[scope] || !this._registry[scope][id]) {\n        return null;\n      }\n\n      this._registry[scope][id] = value;\n      return value;\n    }\n  }, {\n    key: "get",\n    value: function get(scope, id) {\n      if (!this._registry[scope]) {\n        return null;\n      }\n\n      return this._registry[scope][id];\n    }\n  }, {\n    key: "getScope",\n    value: function getScope(scope) {\n      return this._registry[scope];\n    }\n  }, {\n    key: "toArray",\n    value: function toArray(scope) {\n      if (!this._registry[scope]) {\n        return null;\n      }\n\n      return Object.values(this._registry[scope]);\n    }\n  }, {\n    key: "renderTemplate",\n    value: function renderTemplate(templateString, data) {\n      var conditionalMatches, conditionalPattern, copy;\n      conditionalPattern = /\\$\\{\\s*isset ([a-zA-Z]*) \\s*\\}(.*)\\$\\{\\s*end\\s*}/g; //since loop below depends on re.lastInxdex, we use a copy to capture any manipulations whilst inside the loop\n\n      copy = templateString;\n\n      while ((conditionalMatches = conditionalPattern.exec(templateString)) !== null) {\n        if (data[conditionalMatches[1]]) {\n          //valid key, remove conditionals, leave contents.\n          copy = copy.replace(conditionalMatches[0], conditionalMatches[2]);\n        } else {\n          //not valid, remove entire section\n          copy = copy.replace(conditionalMatches[0], \'\');\n        }\n      }\n\n      templateString = copy; //now any conditionals removed we can do simple substitution\n\n      var key, find, re;\n\n      for (key in data) {\n        find = \'\\\\$\\\\{\\\\s*\' + key + \'\\\\s*\\\\}\';\n        re = new RegExp(find, \'g\');\n        templateString = templateString.replace(re, data[key]);\n      }\n\n      return templateString;\n    }\n  }]);\n\n  return SynaAPI;\n}();\n\nwindow.syna = window.syna || {};\nwindow.syna.api = new SynaAPI();\nwindow.syna.stream = new Stream();\nwindow.synaPortals = {};\n\n//# sourceURL=webpack:///./assets/js/head.js?')}})